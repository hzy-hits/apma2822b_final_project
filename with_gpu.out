## SLURM PROLOG ###############################################################
##    Job ID : 12324931
##  Job Name : test.sh
##  Nodelist : gpu2004
##      CPUs : 4
##   Mem/CPU : 2800 MB
## Directory : /oscar/home/zhuan160/APMA2822B/final_project
##   Job Started : Thu Dec  7 20:52:25 EST 2023
###############################################################################
nvcc: NVIDIA (R) Cuda compiler driver
Copyright (c) 2005-2022 NVIDIA Corporation
Built on Wed_Jun__8_16:49:14_PDT_2022
Cuda compilation tools, release 11.7, V11.7.99
Build cuda_11.7.r11.7/compiler.31442593_0
Thu Dec  7 20:52:26 2023       
+---------------------------------------------------------------------------------------+
| NVIDIA-SMI 535.54.03              Driver Version: 535.54.03    CUDA Version: 12.2     |
|-----------------------------------------+----------------------+----------------------+
| GPU  Name                 Persistence-M | Bus-Id        Disp.A | Volatile Uncorr. ECC |
| Fan  Temp   Perf          Pwr:Usage/Cap |         Memory-Usage | GPU-Util  Compute M. |
|                                         |                      |               MIG M. |
|=========================================+======================+======================|
|   0  Quadro RTX 6000                Off | 00000000:63:00.0 Off |                  Off |
| 33%   40C    P8              25W / 260W |     38MiB / 24576MiB |      0%      Default |
|                                         |                      |                  N/A |
+-----------------------------------------+----------------------+----------------------+
                                                                                         
+---------------------------------------------------------------------------------------+
| Processes:                                                                            |
|  GPU   GI   CI        PID   Type   Process name                            GPU Memory |
|        ID   ID                                                             Usage      |
|=======================================================================================|
|    0   N/A  N/A     15139      G   X                                            36MiB |
+---------------------------------------------------------------------------------------+
-- The CXX compiler identification is GNU 10.2.0
-- The CUDA compiler identification is NVIDIA 11.7.99
-- Check for working CXX compiler: /gpfs/runtime/opt/gcc/10.2/bin/c++
-- Check for working CXX compiler: /gpfs/runtime/opt/gcc/10.2/bin/c++ -- works
-- Detecting CXX compiler ABI info
-- Detecting CXX compiler ABI info - done
-- Detecting CXX compile features
-- Detecting CXX compile features - done
-- Check for working CUDA compiler: /gpfs/runtime/opt/cuda/11.7.1/cuda/bin/nvcc
-- Check for working CUDA compiler: /gpfs/runtime/opt/cuda/11.7.1/cuda/bin/nvcc -- works
-- Detecting CUDA compiler ABI info
-- Detecting CUDA compiler ABI info - done
-- Found OpenMP_CXX: -fopenmp (found version "4.5") 
-- Found OpenMP: TRUE (found version "4.5")  
-- Looking for C++ include pthread.h
-- Looking for C++ include pthread.h - found
-- Performing Test CMAKE_HAVE_LIBC_PTHREAD
-- Performing Test CMAKE_HAVE_LIBC_PTHREAD - Failed
-- Looking for pthread_create in pthreads
-- Looking for pthread_create in pthreads - not found
-- Looking for pthread_create in pthread
-- Looking for pthread_create in pthread - found
-- Found Threads: TRUE  
-- Found CUDA: /gpfs/runtime/opt/cuda/11.7.1/cuda (found version "11.7") 
-- Configuring done
-- Generating done
-- Build files have been written to: /users/zhuan160/APMA2822B/final_project/build
[1/4] Building CXX object CMakeFiles/final_project.dir/src/particle.cpp.o
[2/4] Building CXX object CMakeFiles/final_project.dir/src/main.cpp.o
[3/4] Building CUDA object CMakeFiles/final_project.dir/cuda/kernel.cu.o
../cuda/kernel.cu(77): warning #177-D: variable "mStream" was declared but never referenced

../cuda/kernel.cu(78): warning #177-D: variable "remainNum" was declared but never referenced

[4/4] Linking CXX executable final_project
Hello, World!
Number of threads: 32
kernelSparseMatVecdot time: 0.090387 ms
result sample: 
-0.968702	0.248226	1
result sample: 
0.398179	-0.917308	1
result sample: 
-0.500852	-0.865533	1
Computing time: 268.523ms 	
kernelSparseMatVecdot time: 0.048240 ms
result sample: 
-0.746603	1.22325	1
result sample: 
-0.525857	-0.535003	1
result sample: 
-0.287698	-1.84255	1
Computing time: 65.9865ms 	
Bye, World!
